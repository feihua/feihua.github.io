(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{350:function(t,s,a){t.exports=a.p+"assets/img/image-20240102112230351.deda5691.png"},412:function(t,s,a){t.exports=a.p+"assets/img/image-20240102142440083.c68a19e9.png"},440:function(t,s,a){"use strict";a.r(s);var n=a(9),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"项目部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目部署"}},[t._v("#")]),t._v(" 项目部署")]),t._v(" "),s("p",[s("strong",[t._v("在centos7下安装nginx")])]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" nginx\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("默认根路径是：/usr/share/nginx/html")]),t._v(" "),s("p",[t._v("默认的端口是：80")])]),t._v(" "),s("p",[s("font",{attrs:{color:"Red"}},[t._v("项目部署在nginx下会有二种情况：1.nginx的根目录,2,非根目录")])],1),t._v(" "),s("h2",{attrs:{id:"_1-nginx的根目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-nginx的根目录"}},[t._v("#")]),t._v(" 1.nginx的根目录")]),t._v(" "),s("p",[t._v("部署在nginx的根目录,默认配置即可,不用修改配置")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("直接把dist目录下的文件拷贝进 /usr/share/nginx/html 即可")])]),t._v(" "),s("p",[t._v("浏览器打开: "),s("a",{attrs:{href:"http://110.41.179.89/mall",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://110.41.179.89/"),s("OutboundLink")],1),t._v("即可")]),t._v(" "),s("p",[s("img",{attrs:{src:a(350),alt:"image-20240102112230351"}})]),t._v(" "),s("h2",{attrs:{id:"_2-非根目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-非根目录"}},[t._v("#")]),t._v(" 2.非根目录")]),t._v(" "),s("p",[s("strong",[t._v("如果有多个项目,nginx的根目录就不够用了,所有要加目录来区分,比如：a和b项目")])]),t._v(" "),s("p",[t._v("http://127.0.0.1:80/a-----》/usr/share/nginx/html/a")]),t._v(" "),s("p",[t._v("http://127.0.0.1:80/b-----》/usr/share/nginx/html/b")]),t._v(" "),s("p",[s("font",{attrs:{color:"Red"}},[t._v("下面以mall为例")])],1),s("p",[t._v("\nhttp://127.0.0.1:80/mall-----》/usr/share/nginx/html/mall")]),t._v(" "),s("h3",{attrs:{id:"_2-1修改配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1修改配置"}},[t._v("#")]),t._v(" 2.1修改配置")]),t._v(" "),s("p",[s("strong",[t._v("修改项目配置：web\\zero-admin-ui\\config\\config.ts")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(412),alt:"image-20240102142440083"}})]),t._v(" "),s("p",[t._v("添加右边红框的内容")]),t._v(" "),s("h3",{attrs:{id:"_2-2添加nginx配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2添加nginx配置"}},[t._v("#")]),t._v(" 2.2添加nginx配置")]),t._v(" "),s("p",[s("strong",[t._v("nginx的配置 /etc/nginx/nginx.conf")])]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[t._v("location ^~ /mall"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\talias html/mall;\n\tindex index.html; \n\ttry_files $uri $uri/ /mall/index.html;\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"_2-3部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3部署"}},[t._v("#")]),t._v(" 2.3部署")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("把dist目录下的文件拷贝进 "),s("font",{attrs:{color:"Red"}},[t._v("/usr/share/nginx/html/mall")]),t._v(" 即可")],1),t._v(" "),s("h3",{attrs:{id:"_2-4访问"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4访问"}},[t._v("#")]),t._v(" 2.4访问")]),t._v(" "),s("p",[t._v("浏览器打开: "),s("a",{attrs:{href:"http://110.41.179.89/mall",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://110.41.179.89/mall"),s("OutboundLink")],1),t._v("即可")]),t._v(" "),s("p",[s("img",{attrs:{src:a(350),alt:"image-20240102112230351"}})]),t._v(" "),s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("项目部署在nginx的根目录和非根目录,主要区别是：非根目录添加访问前缀")])])])}),[],!1,null,null,null);s.default=e.exports}}]);