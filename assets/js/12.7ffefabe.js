(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{406:function(s,t,a){s.exports=a.p+"assets/img/image-20240105170836180.4c251651.png"},433:function(s,t,a){s.exports=a.p+"assets/img/image-20240105171510795.604a4e78.png"},434:function(s,t,a){s.exports=a.p+"assets/img/image-20240105181451496.ceae9a1b.png"},435:function(s,t,a){s.exports=a.p+"assets/img/image-20231227094812485.6a1f36d6.png"},436:function(s,t,a){s.exports=a.p+"assets/img/image-20231227094934471.4dc12ef5.png"},437:function(s,t,a){s.exports=a.p+"assets/img/image-20231227095009680.6ec1c05f.png"},438:function(s,t,a){s.exports=a.p+"assets/img/image-20231227095052928.32c514a5.png"},439:function(s,t,a){s.exports=a.p+"assets/img/image-20231227095111216.9bb40fda.png"},440:function(s,t,a){s.exports=a.p+"assets/img/image-20231227095234237.8d7012f1.png"},441:function(s,t,a){s.exports=a.p+"assets/img/image-20231227095328574.49e3fab9.png"},442:function(s,t,a){s.exports=a.p+"assets/img/image-20231227095837116.6709b74c.png"},477:function(s,t,a){"use strict";a.r(t);var e=a(15),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"在k8s上部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在k8s上部署"}},[s._v("#")]),s._v(" 在k8s上部署")]),s._v(" "),t("h2",{attrs:{id:"_1-安装-kubesphere"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装-kubesphere"}},[s._v("#")]),s._v(" 1.安装 KubeSphere")]),s._v(" "),t("p",[s._v("参考："),t("a",{attrs:{href:"https://www.kubesphere.io/zh/docs/v3.4/quick-start/all-in-one-on-linux/",target:"_blank",rel:"noopener noreferrer"}},[s._v("在 Linux 上以 All-in-One 模式安装 KubeSphere"),t("OutboundLink")],1)]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#下载 KubeKey")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-sfL")]),s._v(" https://get-kk.kubesphere.io "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("VERSION")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("v3.0.13 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" -\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#添加可执行权限")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x kk\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置镜像环境")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KKZONE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cn\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#开始安装")]),s._v("\n./kk create cluster --with-kubernetes v1.22.12 --with-kubesphere v3.4.1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"_2-脚本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-脚本"}},[s._v("#")]),s._v(" 2.脚本")]),s._v(" "),t("p",[t("font",{attrs:{face:"宋体",color:"red",size:"5"}},[s._v("具体脚本在zero-admin\\script\\目录")])],1),s._v(" "),t("h3",{attrs:{id:"_2-1-构建镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-构建镜像"}},[s._v("#")]),s._v(" 2.1 构建镜像")]),s._v(" "),t("p",[s._v("在linux下提供makefile脚本,构建docker镜像")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" image\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:a(406),alt:"image-20240105170836180"}})]),s._v(" "),t("h3",{attrs:{id:"_2-2-启动服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-启动服务"}},[s._v("#")]),s._v(" 2.2 启动服务")]),s._v(" "),t("p",[s._v("在linux下提供makefile脚本,启动k8s脚本")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" kubectl\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:a(433),alt:"image-20240105171510795"}})]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),t("p",[s._v("serviceaccount.yaml是获取k8s api的权限")]),s._v(" "),t("p",[s._v("register.yaml 是注册中心(etcd或者k8s),如果不配置,注册中心默认为etcd")])]),s._v(" "),t("p",[t("img",{attrs:{src:a(434),alt:"image-20240105181451496"}})]),s._v(" "),t("h2",{attrs:{id:"_3-效果"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-效果"}},[s._v("#")]),s._v(" 3.效果")]),s._v(" "),t("p",[t("strong",[s._v("3.1项目预览")])]),s._v(" "),t("p",[t("img",{attrs:{src:a(435),alt:"image-20231227094812485"}})]),s._v(" "),t("p",[t("strong",[s._v("3.2项目概览")])]),s._v(" "),t("p",[t("img",{attrs:{src:a(436),alt:"image-20231227094934471"}})]),s._v(" "),t("p",[t("strong",[s._v("3.3项目服务")])]),s._v(" "),t("p",[t("img",{attrs:{src:a(437),alt:"image-20231227095009680"}})]),s._v(" "),t("p",[t("strong",[s._v("3.4工作负载")])]),s._v(" "),t("p",[t("img",{attrs:{src:a(438),alt:"image-20231227095052928"}})]),s._v(" "),t("p",[t("strong",[s._v("3.5容器组")])]),s._v(" "),t("p",[t("img",{attrs:{src:a(439),alt:"image-20231227095111216"}})]),s._v(" "),t("p",[t("strong",[s._v("3.6front-api的deployments")])]),s._v(" "),t("p",[t("img",{attrs:{src:a(440),alt:"image-20231227095234237"}})]),s._v(" "),t("p",[t("strong",[s._v("3.7front-api的pods")])]),s._v(" "),t("p",[t("img",{attrs:{src:a(441),alt:"image-20231227095328574"}})]),s._v(" "),t("p",[t("strong",[s._v("3.8front-api的日志")])]),s._v(" "),t("p",[t("img",{attrs:{src:a(442),alt:"image-20231227095837116"}})])])}),[],!1,null,null,null);t.default=r.exports}}]);